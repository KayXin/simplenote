<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xiaoyu.modules.biz.message.dao.MessageDao">
	<sql id="Base_Column_List">
		a.id as id,
		a.type as type,
		a.sender_id as senderId,
		a.receiver_id as reveiverId,
		a.biz_type as bizType,
		a.biz_action as
		bizAction,
		a.content as content ,
		a.reply as reply,
		a.is_read as isRead,
		a.create_date as createDate

	</sql>

	<insert id="insert" parameterType="com.xiaoyu.modules.biz.message.entity.Message">
		insert into biz_message
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="type != null">
				type,
			</if>
			<if test="senderId != null">
				sender_id,
			</if>
			<if test="receiverId != null">
				receiver_id,
			</if>
			<if test="bizType != null">
				biz_type,
			</if>
			<if test="bizAction != null">
				biz_action,
			</if>
			<if test="content != null">
				content,
			</if>
			<if test="reply != null">
				reply,
			</if>
			<if test="isRead != null">
				is_read,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id},
			</if>
			<if test="type != null">
				#{type},
			</if>
			<if test="senderId != null">
				#{senderId},
			</if>
			<if test="receiverId != null">
				#{receiverId},
			</if>
			<if test="bizType != null">
				#{bizType},
			</if>
			<if test="bizAction != null">
				#{bizAction},
			</if>
			<if test="content != null">
				#{content},
			</if>
			<if test="reply != null">
				#{reply},
			</if>
			<if test="isRead != null">
				#{isRead},
			</if>
		</trim>
	</insert>

	<update id="addNum">
		update biz_message set
		is_read=#{isRead}
		where user_id=
		#{userId}
	</update>

	<update id="delete">
		update biz_message
		set
		del_flag=1
		where id=#{id}

	</update>
</mapper>